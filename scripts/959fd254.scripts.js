(function(e){e.plugins.bullets=function(e){var t,n,a=e.slides.map(function(e){return[].slice.call(e.querySelectorAll("[data-bespoke-bullet]"),0)}),s=function(e,s){t=e,n=s,a.forEach(function(t,n){t.forEach(function(t,a){t.classList.add("bespoke-bullet"),e>n||n===e&&s>a?(t.classList.add("bespoke-bullet-active"),t.classList.remove("bespoke-bullet-last-active"),t.classList.remove("bespoke-bullet-inactive")):n===e&&a===s?(t.classList.add("bespoke-bullet-active"),t.classList.add("bespoke-bullet-last-active"),t.classList.remove("bespoke-bullet-inactive")):(t.classList.add("bespoke-bullet-inactive"),t.classList.remove("bespoke-bullet-last-active"),t.classList.remove("bespoke-bullet-active"))})})},r=function(){return void 0!==a[t][n+1]},o=function(){return void 0!==a[t][n-1]},i=function(){var e=t+1;return r()?(s(t,n+1),!1):(a[e]&&s(e,0),void 0)},c=function(){var e=t-1;return o()?(s(t,n-1),!1):(a[e]&&s(e,a[e].length-1),void 0)};e.on("next",function(){return i()}),e.on("prev",function(){return c()}),e.on("slide",function(e){s(e.index,0)}),s(0,0)}})(bespoke),function(e){e.plugins.hash=function(e){var t,n=function(){var t=window.location.hash.slice(1),n=parseInt(t,10);t&&(n?a(n-1):e.slides.forEach(function(e,n){e.getAttribute("data-bespoke-hash")===t&&a(n)}))},a=function(n){n!==t&&e.slide(n)};setTimeout(function(){n(),e.on("activate",function(e){var n=e.slide.getAttribute("data-bespoke-hash");window.location.hash=n||e.index+1,t=e.index}),window.addEventListener("hashchange",n)},0)}}(bespoke),bespoke.plugins.center=function(e){e.slides.forEach(function(e){var t=document.createElement("div"),n=[].slice.call(e.childNodes,0);t.className="bespoke-center-wrapper",n.forEach(function(n){e.removeChild(n),t.appendChild(n)}),e.appendChild(t),t.style.marginTop=(e.offsetHeight-t.offsetHeight)/2+"px"})},bespoke.plugins.progress=function(e){var t=document.createElement("span"),n=document.createElement("div");n.className="bespoke-progress",n.appendChild(t),e.parent.appendChild(n),e.on("activate",function(n){t.style.width=100*n.index/(e.slides.length-1)+"%"})},bespoke.plugins.controls=function(e){var t,n,a=document.createElement("div");a.innerHTML='<aside class="controls"> <a class="left" href="#">&#x25C4;</a> <a class="right" href="#">&#x25BA;</a> <a class="up" href="#">&#x25B2;</a> <a class="down" href="#">&#x25BC;</a></aside>',n=a.querySelector(".left"),t=a.querySelector(".right"),n.addEventListener("click",e.prev),t.addEventListener("click",e.next),e.on("activate",function(a){n.classList[0===a.index?"remove":"add"]("enabled"),t.classList[a.index===e.slides.length-1?"remove":"add"]("enabled")}),e.parent.appendChild(a)},bespoke.plugins.state=function(e){e.on("activate",function(t){var n=t.slide.getAttribute("data-bespoke-state");void 0!==n&&(e.parent.className=n)})},window.Rainbow=function(){function e(e){var t,n=e.getAttribute&&e.getAttribute("data-language")||0;if(!n)for(e=e.attributes,t=0;e.length>t;++t)if("data-language"===e[t].nodeName)return e[t].nodeValue;return n}function t(t){var n=e(t)||e(t.parentNode);if(!n){var a=/\blang(?:uage)?-(\w+)/;(t=t.className.match(a)||t.parentNode.className.match(a))&&(n=t[1])}return n}function n(e,t){for(var n in d[b])if(n=parseInt(n,10),(e==n&&t==d[b][n]?0:n>=e&&t>=d[b][n])&&(delete d[b][n],delete m[b][n]),e>=n&&d[b][n]>e||t>n&&d[b][n]>t)return!0;return!1}function a(e,t){return'<span class="'+e.replace(/\./g," ")+(p?" "+p:"")+'">'+t+"</span>"}function s(e,t,i,l){var u=e.exec(i);if(u){++w,!t.name&&"string"==typeof t.matches[0]&&(t.name=t.matches[0],delete t.matches[0]);var p=u[0],g=u.index,f=u[0].length+g,h=function(){function n(){s(e,t,i,l)}w%100>0?n():setTimeout(n,0)};if(n(g,f))h();else{var v=r(t.matches),y=function(e,n,s){if(e>=n.length)s(p);else{var r=u[n[e]];if(r){var i=t.matches[n[e]],l=i.language,g=i.name&&i.matches?i.matches:i,m=function(t,r,o){var i;i=0;var c;for(c=1;n[e]>c;++c)u[c]&&(i+=u[c].length);r=o?a(o,r):r,p=p.substr(0,i)+p.substr(i).replace(t,r),y(++e,n,s)};l?c(r,l,function(e){m(r,e)}):"string"==typeof i?m(r,r,i):o(r,g.length?g:[g],function(e){m(r,e,i.matches?i.name:0)})}else y(++e,n,s)}};y(0,v,function(e){t.name&&(e=a(t.name,e)),m[b]||(m[b]={},d[b]={}),m[b][g]={replace:u[0],"with":e},d[b][g]=f,h()})}}else l()}function r(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n.sort(function(e,t){return t-e})}function o(e,t,n){function a(t,r){t.length>r?s(t[r].pattern,t[r],e,function(){a(t,++r)}):i(e,function(e){delete m[b],delete d[b],--b,n(e)})}++b,a(t,0)}function i(e,t){function n(e,t,a,s){if(t.length>a){++y;var r=t[a],o=m[b][r],e=e.substr(0,r)+e.substr(r).replace(o.replace,o["with"]),r=function(){n(e,t,++a,s)};y%250>0?r():setTimeout(r,0)}else s(e)}var a=r(m[b]);n(e,a,0,t)}function c(e,t,n){var a=f[t]||[],s=f[v]||[],t=h[t]?a:a.concat(s);o(e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&(?![\w\#]+;)/g,"&amp;"),t,n)}function l(e,n,a){if(e.length>n){var s=e[n],r=t(s);return(" "+s.className+" ").indexOf(" rainbow ")>-1||!r?l(e,++n,a):(r=r.toLowerCase(),s.className+=s.className?" rainbow":"rainbow",c(s.innerHTML,r,function(t){s.innerHTML=t,m={},d={},g&&g(s,r),setTimeout(function(){l(e,++n,a)},0)}))}a&&a()}function u(e,t){var n,e=e&&"function"==typeof e.getElementsByTagName?e:document,a=e.getElementsByTagName("pre"),s=e.getElementsByTagName("code"),r=[];for(n=0;s.length>n;++n)r.push(s[n]);for(n=0;a.length>n;++n)a[n].getElementsByTagName("code").length||r.push(a[n]);l(r,0,t)}var p,g,m={},d={},f={},h={},b=0,v=0,w=0,y=0;return{extend:function(e,t,n){1==arguments.length&&(t=e,e=v),h[e]=n,f[e]=t.concat(f[e]||[])},b:function(e){g=e},a:function(e){p=e},color:function(e,t,n){return"string"==typeof e?c(e,t,n):"function"==typeof e?u(0,e):(u(e,t),void 0)}}}(),window.addEventListener?window.addEventListener("load",Rainbow.color,!1):window.attachEvent("onload",Rainbow.color),Rainbow.onHighlight=Rainbow.b,Rainbow.addClass=Rainbow.a,Rainbow.extend([{matches:{1:{name:"keyword.operator",pattern:/\=/g},2:{name:"string",matches:{name:"constant.character.escape",pattern:/\\('|"){1}/g}}},pattern:/(\(|\s|\[|\=|:)(('|")([^\\\1]|\\.)*?(\3))/gm},{name:"comment",pattern:/\/\*[\s\S]*?\*\/|(\/\/|\#)[\s\S]*?$/gm},{name:"constant.numeric",pattern:/\b(\d+(\.\d+)?(e(\+|\-)?\d+)?(f|d)?|0x[\da-f]+)\b/gi},{matches:{1:"keyword"},pattern:/\b(and|array|as|bool(ean)?|c(atch|har|lass|onst)|d(ef|elete|o(uble)?)|e(cho|lse(if)?|xit|xtends|xcept)|f(inally|loat|or(each)?|unction)|global|if|import|int(eger)?|long|new|object|or|pr(int|ivate|otected)|public|return|self|st(ring|ruct|atic)|switch|th(en|is|row)|try|(un)?signed|var|void|while)(?=\(|\b)/gi},{name:"constant.language",pattern:/true|false|null/g},{name:"keyword.operator",pattern:/\+|\!|\-|&(gt|lt|amp);|\||\*|\=/g},{matches:{1:"function.call"},pattern:/(\w+?)(?=\()/g},{matches:{1:"storage.function",2:"entity.name.function"},pattern:/(function)\s(.*?)(?=\()/g}]),Rainbow.extend("coffeescript",[{name:"comment.block",pattern:/(\#{3})[\s\S]*\1/gm},{name:"string.block",pattern:/('{3}|"{3})[\s\S]*\1/gm},{name:"string.regex",matches:{2:{name:"comment",pattern:/\#(.*?)\n/g}},pattern:/(\/{3})([\s\S]*)\1/gm},{matches:{1:"keyword"},pattern:/\b(in|when|is|isnt|of|not|unless|until|super)(?=\b)/gi},{name:"keyword.operator",pattern:/\?/g},{name:"constant.language",pattern:/\b(undefined|yes|on|no|off)\b/g},{name:"keyword.variable.coffee",pattern:/@(\w+)/gi},{name:"reset",pattern:/object|class|print/gi},{matches:{1:"entity.name.function",2:"keyword.operator",3:{name:"function.argument.coffee",pattern:/([\@\w]+)/g},4:"keyword.function"},pattern:/(\w+)\s{0,}(=|:)\s{0,}\((.*?)((-|=)&gt;)/gi},{matches:{1:{name:"function.argument.coffee",pattern:/([\@\w]+)/g},2:"keyword.function"},pattern:/\s\((.*?)\)\s{0,}((-|=)&gt;)/gi},{matches:{1:"entity.name.function",2:"keyword.operator",3:"keyword.function"},pattern:/(\w+)\s{0,}(=|:)\s{0,}((-|=)&gt;)/gi},{matches:{1:"storage.class",2:"entity.name.class",3:"storage.modifier.extends",4:"entity.other.inherited-class"},pattern:/\b(class)\s(\w+)(\sextends\s)?([\w\\]*)?\b/g},{matches:{1:"keyword.new",2:{name:"support.class",pattern:/\w+/g}},pattern:/\b(new)\s(.*?)(?=\s)/g}]),Rainbow.extend("javascript",[{name:"selector",pattern:/(\s|^)\$(?=\.|\()/g},{name:"support",pattern:/\b(window|document)\b/g},{matches:{1:"support.property"},pattern:/\.(length|node(Name|Value))\b/g},{matches:{1:"support.function"},pattern:/(setTimeout|setInterval)(?=\()/g},{matches:{1:"support.method"},pattern:/\.(getAttribute|push|getElementById|getElementsByClassName|log|setTimeout|setInterval)(?=\()/g},{matches:{1:"support.tag.script",2:[{name:"string",pattern:/('|")(.*?)(\1)/g},{name:"entity.tag.script",pattern:/(\w+)/g}],3:"support.tag.script"},pattern:/(&lt;\/?)(script.*?)(&gt;)/g},{name:"string.regexp",matches:{1:"string.regexp.open",2:{name:"constant.regexp.escape",pattern:/\\(.){1}/g},3:"string.regexp.close",4:"string.regexp.modifier"},pattern:/(\/)(?!\*)(.+)(\/)([igm]{0,3})/g},{matches:{1:"storage",3:"entity.function"},pattern:/(var)?(\s|^)(.*)(?=\s?=\s?function\()/g},{matches:{1:"keyword",2:"entity.function"},pattern:/(new)\s+(.*)(?=\()/g},{name:"entity.function",pattern:/(\w+)(?=:\s{0,}function)/g}]),Rainbow.extend("html",[{name:"source.php.embedded",matches:{2:{language:"php"}},pattern:/&lt;\?=?(?!xml)(php)?([\s\S]*?)(\?&gt;)/gm},{name:"source.css.embedded",matches:{0:{language:"css"}},pattern:/&lt;style(.*?)&gt;([\s\S]*?)&lt;\/style&gt;/gm},{name:"source.js.embedded",matches:{0:{language:"javascript"}},pattern:/&lt;script(?! src)(.*?)&gt;([\s\S]*?)&lt;\/script&gt;/gm},{name:"comment.html",pattern:/&lt;\!--[\S\s]*?--&gt;/g},{matches:{1:"support.tag.open",2:"support.tag.close"},pattern:/(&lt;)|(\/?\??&gt;)/g},{name:"support.tag",matches:{1:"support.tag",2:"support.tag.special",3:"support.tag-name"},pattern:/(&lt;\??)(\/|\!?)(\w+)/g},{matches:{1:"support.attribute"},pattern:/([a-z-]+)(?=\=)/gi},{matches:{1:"support.operator",2:"string.quote",3:"string.value",4:"string.quote"},pattern:/(=)('|")(.*?)(\2)/g},{matches:{1:"support.operator",2:"support.value"},pattern:/(=)([a-zA-Z\-0-9]*)\b/g},{matches:{1:"support.attribute"},pattern:/\s(\w+)(?=\s|&gt;)(?![\s\S]*&lt;)/g}],!0),function(){"use strict";bespoke.horizontal.from("article",{state:!0,hash:!0,bullets:!0});var e,t,n,a,s,r;if(document.styleSheets)for(e=0;document.styleSheets.length>e;++e)if(r=document.styleSheets[e],r.rules)for(n=0;r.rules.length>n;++n)s=r.rules[n],s.style&&s.style.backgroundImage&&(a=s.style.backgroundImage.match(/url\((.*)\)/),a&&(t=new Image,t.src=a[1]))}();