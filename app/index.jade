extends layout

block content
  article.bespoke-parent
    section(data-bespoke-state='japan')
      .content
        .byline
          .classy This talk is called:
        h1
          strong Assemble
          | : Yeoman's missing piece
        .byline
          .classy with this guy:
        .me
        .byline
          a(href='http://goodfil.ms') http://goodfil.ms
          a(href='https://twitter.com/glenmaddern') @glenmaddern
          a(href='http://github.com/geelen') geelen

    section(data-bespoke-state='trolling')
      .content
        .byline
          .classy But first...
        h1
          strong Trolling!
        .unbrokenline

    section(data-bespoke-state='iframe')
      .iframe-holster.zoomed
        h4 Angular rulez
        iframe(src="http://www.google.com/trends/fetchComponent?hl=en-US&q=angularjs,+emberjs&date=1/2012+18m&cmpt=q&content=1&cid=TIMESERIES_GRAPH_0&export=5&w=700&h=600")

    section(data-bespoke-state='iframe')
      .iframe-holster.no-animation.zoomed
        h4 Ok...
        iframe(src="http://www.google.com/trends/fetchComponent?hl=en-US&q=angularjs,+emberjs,+jquery&date=1/2012+18m&cmpt=q&content=1&cid=TIMESERIES_GRAPH_0&export=5&w=700&h=600")

    section(data-bespoke-state='iframe')
      .iframe-holster.no-animation.zoomed
        h4 ...maybe popularity...
        iframe(src="http://www.google.com/trends/fetchComponent?hl=en-US&q=angularjs,+emberjs,+jquery,+php&date=1/2012+18m&cmpt=q&content=1&cid=TIMESERIES_GRAPH_0&export=5&w=700&h=600")

    section(data-bespoke-state='iframe')
      .iframe-holster.no-animation.zoomed
        h4 ...isn't everything.
        iframe(src="http://www.google.com/trends/fetchComponent?hl=en-US&q=angularjs,+emberjs,+jquery,+php,+justin+bieber&date=1/2012+18m&cmpt=q&content=1&cid=TIMESERIES_GRAPH_0&export=5&w=700&h=600")

    section(data-bespoke-state='japan')
      .content
        .byline
          .classy Ok back to the talk:
        h1
          strong Assemble
          | : Yeoman's missing piece
        .byline
          .classy with this guy:
        .me
        .byline
          a(href='http://goodfil.ms') http://goodfil.ms
          a(href='https://twitter.com/glenmaddern') @glenmaddern
          a(href='http://github.com/geelen') geelen

    section(data-bespoke-state='underconstruction')
      .content
        .byline
          .classy Full disclosure:
        h2 Assemble
        .byline
          .classy is still a
        h2
          strong work in progress
        .unbrokenline

    section(data-bespoke-state='underconstruction')
      .content
        .byline
          .classy Which is to say
        h1 it is
          strong  usable
        .byline
          .classy but
        h1 not
          strong  easy to use
        .unbrokenline

    section(data-bespoke-state='yeoman')
      .content
        .byline
          .classy But first
        h1 let's talk about
          strong  Yeoman
        .unbrokenline

    section(data-bespoke-state='iframe')
      .iframe-holster
        h4 http://yeoman.io
        iframe(src='http://yeoman.io/')

    section(data-bespoke-state='yeoman')
      .content
        .unbrokenline
        h1
          strong Yeoman
          |  is designed
        .byline
          .classy for
        h1 developers to
          strong  be productive
        .byline
          .classy without
        h1
          strong understanding
          |  its internals
        .unbrokenline

    section(data-bespoke-state='underconstruction')
      .content
        .byline
          .classy But
        h1 Yeoman is
          strong  not there yet
        .unbrokenline

    section(data-bespoke-state='')
      .content
        .byline
          .classy Hidden assumptions:
        h2.strike Your CSS must be called main.{css,scss,sass}
        .byline
          .classy &
        h2.strike Coffeescript output isn't minified/revved like JS
        .byline
          .classy &
        h2 Any HTML that isn't index.html isn't treated as code
        .byline
          .classy &
        h2 No server-side templates/partials
        .unbrokenline

    section(data-bespoke-state='')
      .content
        .byline
          .classy Thankfully,
        h2
          strong Assemble
          |  fixes those last two
        .unbrokenline

    section(data-bespoke-state='iframe')
      .iframe-holster
        h4 http://assemble.io
        iframe(src='http://assemble.io/')

    section(data-bespoke-state='iframe')
      .iframe-holster
        h4 http://assemble.io/docs
        iframe(src='http://assemble.io/docs')

    section(data-bespoke-state='iframe')
      .content
        h3 Adding it to webapp
        script(src="https://gist.github.com/geelen/5963874.js?file=1.dothis.sh")
        script(src="https://gist.github.com/geelen/5963874.js?file=2.package.json.diff")
        script(src="https://gist.github.com/geelen/5963874.js?file=4.index.html.diff")

    section(data-bespoke-state='iframe')
      .content
        h3 Adding it to webapp
        script(src="https://gist.github.com/geelen/5963874.js?file=3.Gruntfile.js.diff")

    section(data-bespoke-state='code')
      .content
        pre
          code(data-language='ruby').
            # rubby.rb
            a = "foo"
        pre
          code(data-language='coffee').
            # cahfee.coffee
            a = "foo"
        pre
          code(data-language='javascript').
            //lolscript.js
            var a = "foo";

    section(data-bespoke-state='code')
      .content
        .row
          pre
            code(data-language='javascript').
              var a = Math.PI;
              console.log(a);
              // 3.14159...
          pre
            code(data-language='javascript').
              var a = Math.PI
              console.log(a)
              // 3.14159...
        .row
          pre
            code(data-language='javascript').
              a = Math.PI
              console.log(a)
              // 3.14159...
          pre
            code(data-language='javascript').
              function someSetup() {
                a = Math.PI;
              }
              someSetup();
              console.log(a);
              // 3.14159...

    section(data-bespoke-state='code')
      .content
        table
          thead
            tr
              td
                h3 Non-strict mode
              td
                h3 Strict mode
          tbody
            tr
              td
                pre
                  code(data-language='javascript').
                    function someSetup() {
                      a = Math.PI;
                    }
                    someSetup();
                    console.log(a);
                    // 3.14159...
              td
                pre
                  code(data-language='javascript').
                    "use strict";
                    function someSetup() {
                      a = Math.PI; // BOOM!
                    }
                    someSetup();
                    console.log(a);
            tr
              td
              td
                h4 throws ReferenceError
                "Strict mode forbids implicit creation of global property 'a'"

    section(data-bespoke-state='code')
      .content.nofade
        table
          thead
            tr
              td
                h3(data-bespoke-bullet) Non-strict mode
                h3(data-bespoke-bullet) YOLO mode
              td
                h3 Strict mode
          tbody
            tr
              td
                pre
                  code(data-language='javascript').
                    function someSetup() {
                      a = Math.PI;
                    }
                    someSetup();
                    console.log(a);
                    // 3.14159...
              td
                pre
                  code(data-language='javascript').
                    "use strict";
                    function someSetup() {
                      var a = Math.PI;
                    }
                    someSetup();
                    console.log(a); // BOOM!
            tr
              td
              td
                h4 throws ReferenceError
                "Can't find variable: a"

    section(data-bespoke-state='yolo')
      .content

    section(data-bespoke-state='')
      .content
        .byline
          .classy Strict mode:
        h2 removes some
          strong  lols
        .byline
          .classy &amp;
        h2 makes code
          strong  faster
        .byline
          .classy &amp;
        h2
          strong changes
          |  important stuff
        .unbrokenline

    section(data-bespoke-state='code')
      .content(data-bespoke-bullet)
        h3 YOLO mode
        pre
          code(data-language='javascript').
            var eval, arguments;
            eval = 010;
            delete eval;
            arguments = {x: 1, x: eval}
            function y(a, a) {
              return a;
            }
            console.log(y(null, arguments.x));
            // 8

      .content(data-bespoke-bullet)
        h3 Strict mode
        pre
          code(data-language='javascript').
            "use strict";
            var eval, arguments;        // keywords as vars BOOM
            eval = 010;                 // octals BOOM
            delete eval;                // deleting locals BOOM
            arguments = {x: 1, x: eval} // duplicate key BOOM
            function y(a, a) {          // duplicate argument BOOM
              return a;
            }
        h4 Syntax Error
        "Parse error"

    section(data-bespoke-state='no')
      .content
        .unbrokenline
        h1 Stop the lols!
        .unbrokenline

    section
      .content
        .byline
          .classy What about
        h2
          strong Performance?
        .unbrokenline

    section(data-bespoke-state='code')
      .content
        table
          thead
            tr
              td
                h3 YOLO mode
              td
                h3 Strict mode
          tbody
            tr
              td
                pre
                  code(data-language='javascript').
                    var a = {x: 1, y: 2};
                    var x = 3;
                    with (a) {
                      console.log(x);
                    }
                    // 1
              td
                pre
                  code(data-language='javascript').
                    "use strict";
                    var a = {x: 1, y: 2};
                    var x = 3;
                    with (a) { // BOOM!
                      console.log(x);
                    }
            tr
              td
              td
                h4 Syntax Error
                "Parse error"

    section(data-bespoke-state='code')
      .content
        table
          thead
            tr
              td
                h3 YOLO mode
              td
                h3 Strict mode
          tbody
            tr
              td
                pre
                  code(data-language='javascript').
                    function y() {
                      var me = arguments.callee;
                      return me.name +
                             " <- " +
                             me.caller.name;
                    };
                    function x() {
                      return y();
                    }
                    console.log(x());
                    // "y <- x"
              td
                pre
                  code(data-language='javascript').
                    "use strict";
                    function y() { // BOOM ☟
                      var me = arguments.callee;
                      return me.name +
                             " <- " +
                             me.caller.name;
                    };
                    function x() {
                      return y();
                    }
                    console.log(x());
            tr
              td
                em Note: Function.caller can do
                  br
                  | most of the same things anyway
              td
                h4 Type Error
                "Unable to access callee of strict mode function"

    section(data-bespoke-state='serious')
      .content
        .unbrokenline
        h2
          strong Serious time
        .unbrokenline

    section(data-bespoke-state='serious')
      .content
        .byline
          .classy Let's talk about the
        h2
          strong Semantic changes
        .unbrokenline

    section(data-bespoke-state='code')
      .content
        h3 Implicit global this
        table
          tbody
            tr
              td
                pre
                  code(data-language='javascript').
                    function x(a) {
                      this.a = a;
                    };

                    // Calling a function:
                    x("foo");
                    // is equivalent to:
                    x.call(window, "foo");
                    // so window.a = "foo";
              td
                pre
                  code(data-language='javascript').
                    "use strict";
                    function x(a) {
                      this.a = a; //BOOM!
                    };

                    // Calling a function:
                    x("foo");
                    // is equivalent to:
                    x.call(undefined, "foo");
            tr
              td
                h4
                  strong this
                  |  becomes
                  strong  window
              td
                h4
                  strong this
                  |  becomes
                  strong  undefined

    section(data-bespoke-state='code')
      .content
        table
          tbody
            tr
              td
                pre
                  code(data-language='javascript').
                    var whatIsThis;
                    (function() {
                      whatIsThis = function() {
                        return this;
                      };
                    })();
                    (function() {
                      "use strict";
                      console.log(whatIsThis());
                    })();
                    // window
              td
                pre
                  code(data-language='javascript').
                    var whatIsThis;
                    (function() {
                      "use strict";
                      whatIsThis = function() {
                        return this;
                      };
                    })();
                    (function() {
                      console.log(whatIsThis());
                    })();
                    // undefined
            tr
              td
                h4 Strict Mode invocation
                  br
                  | of YOLO function
              td
                h4 Strict Mode declaration
                  br
                  | YOLO invocation

    section(data-bespoke-state='code')
      .content
        table
          thead
            tr
              td(colspan=2)
                h3 Evals
          tbody
            tr
              td
                pre
                  code(data-language='javascript').
                    var a = 1, b = 2;
                    eval("a = 'foo';");
                    eval("var b = 'bar';");
                    eval("var c = 'baz';");
                    console.log(a); // 'foo'
                    console.log(b); // 'bar'
                    console.log(c); // 'baz'
              td
                pre
                  code(data-language='javascript').
                    "use strict";
                    var a = 1, b = 2;
                    eval("a = 'foo';");
                    eval("var b = 'bar';");
                    eval("var c = 'baz';");
                    console.log(a); // 'foo'
                    console.log(b); // 2
                    console.log(c); // BOOM!
            tr
              td
                h4 Eval'd code getting all
                  br
                  | up in yo' business &nbsp;✖
              td
                h4 Eval'd code evaluated
                  br
                  | in its own scope &nbsp;✔

    section
      .content
        h2 Javascript code
        .byline
          .classy that
        h2 was written YOLO
        .byline
          .classy may well
        h2
          strong break
          |  if interpreted as strict.

    section
      .content
        .byline
          .classy Also,
        h2 Strict Mode is
          strong  ignored
        .byline
          .classy by
        h2 older browsers
        .byline
          .classy (before IE10, Safari 5.1, FF4, Chrome 13)

    section(data-bespoke-state='dangerous')
      .content
        .byline
          .classy How to
        h2
          strong Be safe
        .unbrokenline

    section(data-bespoke-state='code')
      .content
        table
          thead
            tr
              td(colspan=2)
                h3 Concatenation
          tbody(data-bespoke-bullet)
            tr
              td
                pre
                  code(data-language='javascript').
                    // file1.js
                    "use strict";
                    (function() {
                      // do some rad stuff
                    })();

                    // file2.js
                    jQuery.trolol...
              td
                pre
                  code(data-language='javascript').
                    // file1.js
                    jQuery.trolol...

                    // file2.js
                    "use strict";
                    (function() {
                      // do some rad stuff
                    })();
            tr
              td
                h4 Other code interpreted
                  br
                  | as Strict &nbsp;✖
              td
                h4 Your code is
                  br
                  | no longer Strict &nbsp;✖
          tbody(data-bespoke-bullet)
            tr
              td
                pre
                  code(data-language='javascript').
                    // file1.js
                    (function() {
                      "use strict";
                      // do some rad stuff
                    })();

                    // file2.js
                    jQuery.trolol...
              td
                pre
                  code(data-language='javascript').
                    // file1.js
                    jQuery.trolol...

                    // file2.js
                    (function() {
                      "use strict";
                      // do some rad stuff
                    })();
            tr
              td
                h4 Your code strict &nbsp;✔
                  br
                  | Other code unchanged &nbsp;✔
              td
                h4 Other code unchanged &nbsp;✔
                  br
                  | Your code Strict &nbsp;✔

    section(data-bespoke-state='code')
      .content
        h1 Wrap
          strong  every file
        .row
          pre
            code(data-language='javascript').
              // safe.js
              (function() {
                "use strict";

                // go bananas.

              })();

    section(data-bespoke-state='tldr')
      .content
        .byline
          .classy TL;DR:
        h1 Wrap
          strong  every file
        .byline
          .classy inside an
        h1
          strong IIFE
        .byline
          .classy with
        h1
          strong Strict Mode
          |  enabled
        .unbrokenline

    section(data-bespoke-state='coffee')
      .content
        h2
          strong CoffeeScript
          |  is awesome
        .unbrokenline
        h2 but it
          strong  won't teach you Javascript

    section(data-bespoke-state='success')
      .content
        .unbrokenline
        h1
          strong Thank You!
        .unbrokenline

    section(data-bespoke-state='waves')
      .content
        .byline
          .classy For more information:
        h3 http://github.com/geelen/web-directions-talk
        .byline
          .classy or hit me up on Twitter
        .me
        h3
          a(href='https://twitter.com/glenmaddern') @glenmaddern
